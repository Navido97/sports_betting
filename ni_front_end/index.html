<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Odds Maker</title>
  <style>
    * {
      box-sizing: border-box;
    }

    html, body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f4f4f4;
      color: #333;
      height: 100%;
    }

    body {
      display: flex;
      height: 100vh;
      overflow: hidden;
    }

    /* Hamburger Menu Button - Now shows on all screen sizes */
    .menu-toggle {
      position: fixed;
      top: 1rem;
      left: 1rem;
      z-index: 1200;
      background-color: #1e1e1e;
      color: white;
      font-size: 1.2rem;
      padding: 8px 12px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      display: block;
      transition: all 0.3s ease;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    }

    .menu-toggle:hover {
      background-color: #333;
      transform: scale(1.05);
    }

    .menu-toggle.active {
      background-color: #333;
    }

    /* Overlay - Now shows on all screen sizes when menu is open */
    .sidebar-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: 999;
      display: none;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .sidebar-overlay.active {
      display: block;
      opacity: 1;
    }

    /* Sidebar Styles - Now hidden by default on all screen sizes */
    #sidebar {
      width: 220px;
      background-color: #1e1e1e;
      color: white;
      padding: 2rem 1rem;
      position: fixed;
      top: 0;
      left: 0;
      bottom: 0;
      height: 100vh;
      z-index: 1000;
      transform: translateX(-100%);
      transition: transform 0.3s ease;
      overflow-y: auto;
      box-shadow: 2px 0 10px rgba(0, 0, 0, 0.3);
    }

    #sidebar.open {
      transform: translateX(0);
    }

    #sidebar h1 {
      font-size: 1.5rem;
      text-align: center;
      margin-bottom: 2rem;
      margin-top: 0;
    }

    .menu {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .menu a, .menu button {
      background: none;
      border: none;
      color: white;
      text-align: left;
      padding: 0.75rem 1rem;
      width: 100%;
      cursor: pointer;
      display: block;
      text-decoration: none;
      transition: background-color 0.3s ease;
      border-radius: 4px;
      margin-bottom: 2px;
    }

    .menu a:hover, .menu button:hover {
      background-color: #444;
    }

    .menu .submenu {
      display: none;
      margin-left: 1rem;
      padding-left: 0;
      list-style: none;
      overflow: hidden;
      transition: all 0.3s ease;
    }

    .menu .submenu a {
      padding: 0.5rem 1rem;
      font-size: 0.9rem;
    }

    .menu .accordion-toggle.active + .submenu {
      display: block;
    }

    .arrow {
      float: right;
      transition: transform 0.3s ease;
      font-size: 0.8rem;
    }

    .accordion-toggle.active .arrow {
      transform: rotate(90deg);
    }

    /* Content Area - Now takes full width */
    .content {
      flex: 1;
      width: 100%;
      padding: 0;
      margin: 0;
      height: 100vh;
      overflow-y: auto;
      position: relative;
    }

    .feedback-wrapper {
      position: absolute;
      top: 20px;
      right: 20px;
      z-index: 100;
    }

    .feedback-button {
      background-color: #1e1e1e;
      color: white;
      padding: 10px 15px;
      border-radius: 8px;
      font-weight: bold;
      text-decoration: none;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
      transition: background-color 0.3s ease;
    }

    .feedback-button:hover {
      background-color: #333;
    }

    /* Tab Content */
    .tab {
      display: none;
      padding: 2rem;
      height: 100%;
      min-height: calc(100vh - 4rem);
    }

    .tab.active {
      display: block;
    }

    .tab h2 {
      text-align: center;
      margin-bottom: 1rem;
      margin-top: 0;
    }

    .tableauPlaceholder {
      width: 100%;
      height: 1000px;
      min-height: 1000px;
    }

    /* Mobile specific adjustments */
    @media (max-width: 768px) {
      .feedback-wrapper {
        top: 70px;
        right: 10px;
      }
      
      .tab {
        padding: 1rem;
      }
      
      .tab h2 {
        font-size: 1.5rem;
        margin-bottom: 1rem;
      }
    }

    /* Documentation page specific styles */
    .documentation-image {
      max-width: 100%;
      height: auto;
      border: 1px solid #ccc;
      border-radius: 8px;
      margin: 1rem 0;
      display: block;
    }

    .build-process-container {
      margin: 2rem auto;
      max-width: 1000px;
    }

    .build-step {
      margin-bottom: 2rem;
      background-color: #fff;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      overflow: hidden;
    }

    .step-header {
      padding: 1rem 1.5rem;
      background-color: #e0e0e0;
      font-weight: bold;
      font-size: 1.1rem;
      border-radius: 12px 12px 0 0;
    }

    .step-content {
      padding: 1.5rem;
      background-color: #fff;
    }

    .step-content p {
      margin: 0;
      line-height: 1.6;
    }

    .step-content code {
      background-color: #f5f5f5;
      padding: 2px 6px;
      border-radius: 4px;
      font-family: 'Courier New', monospace;
    }

    /* Color variations for steps */
    .step-green {
      border-left: 6px solid #4caf50;
      background-color: #e8f5e8;
    }

    .step-blue {
      border-left: 6px solid #2196f3;
      background-color: #e3f2fd;
    }

    .step-orange {
      border-left: 6px solid #ff9800;
      background-color: #fff3e0;
    }

    .step-purple {
      border-left: 6px solid #9c27b0;
      background-color: #f3e5f5;
    }

    .step-teal {
      border-left: 6px solid #009688;
      background-color: #e0f2f1;
    }

    .step-crimson {
      border-left: 6px solid #dc3545;
      background-color: #f8d7da;
    }

    /* Additional mobile responsiveness */
    @media (max-width: 768px) {
      .build-process-container {
        margin: 1rem auto;
        padding: 0 0.5rem;
      }

      .step-header {
        padding: 0.75rem 1rem;
        font-size: 1rem;
      }

      .step-content {
        padding: 1rem;
      }

      .documentation-image {
        margin: 0.5rem 0;
      }
    }
  </style>
</head>
<body>
  <!-- Hamburger Menu Button -->
  <button class="menu-toggle" id="menuToggle" aria-label="Toggle Menu">
    &#9776;
  </button>

  <!-- Overlay -->
  <div class="sidebar-overlay" id="sidebarOverlay"></div>

  <!-- Sidebar -->
  <aside id="sidebar">
    <h1>Odds Maker</h1>
    <nav class="menu">
      <a href="#" onclick="showTab('home')">Home</a>
      <a href="#" onclick="showTab('documentation')">Documentation</a>
      <button class="accordion-toggle" onclick="toggleSubmenu(this)">
        Competitions <span class="arrow">â–¶</span>
      </button>
      <ul class="submenu">
        <li><a href="#" onclick="showTab('worldcup')">World Cup Winners</a></li>
        <li><a href="#" onclick="showTab('goldcup')">Concacaf Gold Cup</a></li>
        <li><a href="#" onclick="showTab('clubworldcup')">Club World Cup</a></li>
      </ul>
    </nav>
  </aside>

  <!-- Main Content -->
  <div class="content">
    <div class="feedback-wrapper">
      <a href="https://forms.gle/st4WrF57QNMYykBeA" target="_blank" class="feedback-button">Feedback</a>
    </div>

    <!-- Home Tab -->
    <div id="home" class="tab active">
      <h2>Welcome to the Odds Maker Dashboard</h2>
      <p>This dashboard helps everyday sports fans and bettors stay up to date with betting odds for international soccer competitions. Simply select a tournament from the left-hand menu to view odds from major sportsbooks for upcoming and past matches. Use this tool to compare values across platforms and make informed betting or viewing decisions.</p>

      <ul style="max-width: 900px; margin: 2rem auto; list-style: none; padding: 0;">
        <li style="margin-bottom: 1rem; background-color: #f0f0f0; padding: 1rem; border-left: 6px solid #1976d2; border-radius: 8px;">
          âš½ Access odds for top tournaments like the World Cup, Club World Cup, and Gold Cup.
        </li>
        <li style="margin-bottom: 1rem; background-color: #f0f0f0; padding: 1rem; border-left: 6px solid #388e3c; border-radius: 8px;">
          ðŸ“Š See live odds from multiple major sportsbooks, refreshed daily.
        </li>
        <li style="margin-bottom: 1rem; background-color: #f0f0f0; padding: 1rem; border-left: 6px solid #fbc02d; border-radius: 8px;">
          ðŸ“ˆ Use this dashboard to find the best odds across platforms and identify market value.
        </li>
        <li style="margin-bottom: 1rem; background-color: #f0f0f0; padding: 1rem; border-left: 6px solid #d32f2f; border-radius: 8px;">
          ðŸ’¬ Have thoughts or feedback? Click the "Feedback" button in the top-right corner to let me know!
        </li>
      </ul>
    </div>

    <!-- Documentation Tab -->
    <div id="documentation" class="tab">
      <h2>Website Build Process</h2>
      <p>This section documents all the steps taken to build this dashboard.</p>

      <img src="images/Overview.png" alt="Documentation Slide" class="documentation-image" />

      <p style="text-align: center; margin-top: 1rem; font-style: italic;">
        This entire pipeline was designed with cost-efficiency in mind, using only free-tier tools across AWS, Google, and Tableau.
      </p>

      <div class="build-process-container">
        <!-- Step 1 -->
        <div class="build-step">
          <div class="step-header step-green">
            1. Write Python Script and Save to GitHub
          </div>
          <div class="step-content">
            <p>I started by developing Python scripts that use <code>the-odds-api.com</code> to pull real-time soccer odds. The API covers many global competitions and provides generous free-tier access. To manage and version my scripts, I uploaded them to a GitHub repository, ensuring accessibility and ease of updates.</p>
          </div>
        </div>

        <!-- Step 2 -->
        <div class="build-step">
          <div class="step-header step-blue">
            2. Upload CSV to AWS S3
          </div>
          <div class="step-content">
            <p>After fetching the data, the script saves the results as CSV files and uploads them to an AWS S3 bucket. I chose S3 because it's free for small-scale use. Integration with Python via <code>boto3</code> made it easy to automate the storage process.</p>
          </div>
        </div>

        <!-- Step 3 -->
        <div class="build-step">
          <div class="step-header step-orange">
            3. Push CSV to Google Sheets (via API)
          </div>
          <div class="step-content">
            <p>Since Tableau Public doesn't connect directly to S3, I used the Google Sheets API to act as a middleman. Each CSV is uploaded to a designated tab within a single Sheet, allowing Tableau to reference updated live data.</p>
          </div>
        </div>

        <!-- Step 4 -->
        <div class="build-step">
          <div class="step-header step-purple">
            4. Launch EC2 Instance
          </div>
          <div class="step-content">
            <p>I spun up a t2.micro EC2 instance on AWS using the free tier to host my HTML website. I configured the security groups to allow HTTP/HTTPS traffic and uploaded the site via SFTP. The website is built with lightweight HTML, CSS, and JavaScript.</p>
          </div>
        </div>

        <!-- Step 5 -->
        <div class="build-step">
          <div class="step-header step-teal">
            5. Automate Everything on EC2
          </div>
          <div class="step-content">
            <p>To eliminate manual updates, I set up cron jobs on my EC2 instance. These jobs run the Python scripts once daily, ensuring the data is always fresh. This makes the system self-sustaining with no daily intervention needed.</p>
          </div>
        </div>

        <!-- Step 6 -->
        <div class="build-step">
          <div class="step-header step-crimson">
            6. Connect Tableau to Google Sheets
          </div>
          <div class="step-content">
            <p>Finally, I used Tableau Public to create dashboards that pull data directly from the Google Sheet. Using Tableau's embed options, I published each dashboard and integrated it into the site using their JavaScript embed code. This keeps the visualizations synced with the latest data and provides users with an interactive experience right from the browser.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- World Cup Tab -->
    <div id="worldcup" class="tab">
      <h2>World Cup Winners</h2>
      <p>This dashboard displays outright winner odds for the FIFA World Cup. You can compare which countries are favored to win the tournament, with odds pulled from multiple betting platforms. Use it to track line movement and identify longshot opportunities.</p>
      <div class='tableauPlaceholder' id='vizWorldCup' style='position: relative'>
        <noscript><a href='#'><img alt='World Cup Odds' src='https://public.tableau.com/static/images/Wo/WorldCupOdds/Dashboard1/1_rss.png' style='border: none' /></a></noscript>
        <object class='tableauViz' style='display: none;'>
          <param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' />
          <param name='embed_code_version' value='3' />
          <param name='site_root' value='' />
          <param name='name' value='WorldCupOdds/Dashboard1' />
          <param name='tabs' value='no' />
          <param name='toolbar' value='yes' />
        </object>
      </div>
    </div>

    <!-- Gold Cup Tab -->
    <div id="goldcup" class="tab">
      <h2>Concacaf Gold Cup</h2>
      <p>This dashboard shows match-by-match betting odds for the Concacaf Gold Cup. Each matchup includes odds from multiple sportsbooks, enabling you to find the best line for moneyline bets across North American teams.</p>
      <div class='tableauPlaceholder' id='vizGoldCup' style='position: relative'>
        <noscript><a href='#'><img alt='Gold Cup Odds' src='https://public.tableau.com/static/images/Co/ConcacafGoldCup/Dashboard1/1_rss.png' style='border: none' /></a></noscript>
        <object class='tableauViz' style='display: none;'>
          <param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' />
          <param name='embed_code_version' value='3' />
          <param name='site_root' value='' />
          <param name='name' value='ConcacafGoldCup/Dashboard1' />
          <param name='tabs' value='no' />
          <param name='toolbar' value='yes' />
        </object>
      </div>
    </div>

    <!-- Club World Cup Tab -->
    <div id="clubworldcup" class="tab">
      <h2>Club World Cup</h2>
      <p>This dashboard provides odds for the FIFA Club World Cup matches, showing bookmaker spreads and predictions for games between top clubs from each continent. Useful for comparing teams that don't typically meet in domestic leagues.</p>
      <div class='tableauPlaceholder' id='vizClubWorldCup' style='position: relative'>
        <noscript><a href='#'><img alt='Club World Cup Odds' src='https://public.tableau.com/static/images/Cl/ClubWorldCup/Dashboard1/1_rss.png' style='border: none' /></a></noscript>
        <object class='tableauViz' style='display: none;'>
          <param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' />
          <param name='embed_code_version' value='3' />
          <param name='site_root' value='' />
          <param name='name' value='ClubWorldCup/Dashboard1' />
          <param name='tabs' value='no' />
          <param name='toolbar' value='yes' />
        </object>
      </div>
    </div>
  </div>

  <script>
    // Initialize variables
    let isMenuOpen = false;
    
    // Get DOM elements
    const menuToggle = document.getElementById('menuToggle');
    const sidebar = document.getElementById('sidebar');
    const overlay = document.getElementById('sidebarOverlay');

    // Tab switching functionality
    function showTab(tabId) {
      // Hide all tabs
      document.querySelectorAll('.tab').forEach(tab => {
        tab.classList.remove('active');
      });
      
      // Show selected tab
      const selectedTab = document.getElementById(tabId);
      if (selectedTab) {
        selectedTab.classList.add('active');
      }
      
      // Close menu when tab is selected
      if (isMenuOpen) {
        closeMenu();
      }
    }

    // Submenu toggle functionality
    function toggleSubmenu(button) {
      const isActive = button.classList.contains('active');

      // Close all submenus first
      document.querySelectorAll('.accordion-toggle').forEach(btn => {
        btn.classList.remove('active');
      });

      // Open this submenu if it wasn't active
      if (!isActive) {
        button.classList.add('active');
      }
    }

    // Menu toggle functions
    function openMenu() {
      isMenuOpen = true;
      sidebar.classList.add('open');
      overlay.classList.add('active');
      menuToggle.classList.add('active');
    }

    function closeMenu() {
      isMenuOpen = false;
      sidebar.classList.remove('open');
      overlay.classList.remove('active');
      menuToggle.classList.remove('active');
    }

    function toggleMenu() {
      if (isMenuOpen) {
        closeMenu();
      } else {
        openMenu();
      }
    }

    // Event listeners
    document.addEventListener('DOMContentLoaded', function() {
      // Initialize page
      showTab('home');

      // Menu toggle button
      menuToggle?.addEventListener('click', function(e) {
        e.stopPropagation();
        toggleMenu();
      });

      // Overlay click to close
      overlay?.addEventListener('click', closeMenu);

      // Close menu when clicking outside
      document.addEventListener('click', function(event) {
        if (isMenuOpen) {
          if (!sidebar.contains(event.target) && 
              !menuToggle.contains(event.target)) {
            closeMenu();
          }
        }
      });

      // Initialize Tableau visualizations
      const tableauIds = ['vizWorldCup', 'vizGoldCup', 'vizClubWorldCup'];
      tableauIds.forEach(id => {
        const divElement = document.getElementById(id);
        if (divElement) {
          const vizElement = divElement.getElementsByTagName('object')[0];
          if (vizElement) {
            vizElement.style.width = '100%';
            vizElement.style.height = '1000px';
            
            // Load Tableau script
            const scriptElement = document.createElement('script');
            scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';
            scriptElement.async = true;
            vizElement.parentNode.insertBefore(scriptElement, vizElement);
          }
        }
      });
    });

    // Prevent menu from closing when clicking inside sidebar
    sidebar?.addEventListener('click', function(e) {
      e.stopPropagation();
    });
  </script>
</body>
</html>